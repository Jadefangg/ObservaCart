{"ast":null,"code":"import axios from 'axios';\n\n// API Base URLs - these should match your backend services\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\nconst PRODUCT_SERVICE_URL = process.env.REACT_APP_PRODUCT_SERVICE_URL || 'http://localhost:5001';\nconst USER_SERVICE_URL = process.env.REACT_APP_USER_SERVICE_URL || 'http://localhost:5002';\nconst ORDER_SERVICE_URL = process.env.REACT_APP_ORDER_SERVICE_URL || 'http://localhost:5003';\n\n// Create axios instances for each service\nconst productApi = axios.create({\n  baseURL: PRODUCT_SERVICE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst userApi = axios.create({\n  baseURL: USER_SERVICE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nconst orderApi = axios.create({\n  baseURL: ORDER_SERVICE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add request interceptors to include auth tokens\nconst addAuthInterceptor = apiInstance => {\n  apiInstance.interceptors.request.use(config => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n};\n\n// Add auth interceptors to all APIs\naddAuthInterceptor(userApi);\naddAuthInterceptor(orderApi);\n\n// Product Service API\nexport const productService = {\n  // Get all products\n  getAllProducts: async () => {\n    try {\n      const response = await productApi.get('/products');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      throw error;\n    }\n  },\n  // Get product by ID\n  getProductById: async productId => {\n    try {\n      const response = await productApi.get(`/products/${productId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      throw error;\n    }\n  },\n  // Search products\n  searchProducts: async query => {\n    try {\n      const response = await productApi.get(`/products/search?q=${encodeURIComponent(query)}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error searching products:', error);\n      throw error;\n    }\n  }\n};\n\n// User Service API\nexport const userService = {\n  // Register new user\n  register: async userData => {\n    try {\n      const response = await userApi.post('/users/register', userData);\n      return response.data;\n    } catch (error) {\n      console.error('Error registering user:', error);\n      throw error;\n    }\n  },\n  // Login user\n  login: async credentials => {\n    try {\n      const response = await userApi.post('/users/login', credentials);\n      if (response.data.token) {\n        localStorage.setItem('authToken', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      console.error('Error logging in:', error);\n      throw error;\n    }\n  },\n  // Logout user\n  logout: () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n  },\n  // Get current user\n  getCurrentUser: () => {\n    const user = localStorage.getItem('user');\n    return user ? JSON.parse(user) : null;\n  },\n  // Get user profile\n  getProfile: async () => {\n    try {\n      const response = await userApi.get('/users/profile');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      throw error;\n    }\n  }\n};\n\n// Order Service API\nexport const orderService = {\n  // Create new order\n  createOrder: async orderData => {\n    try {\n      const response = await orderApi.post('/orders', orderData);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating order:', error);\n      throw error;\n    }\n  },\n  // Get user orders\n  getUserOrders: async () => {\n    try {\n      const response = await orderApi.get('/orders');\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      throw error;\n    }\n  },\n  // Get order by ID\n  getOrderById: async orderId => {\n    try {\n      const response = await orderApi.get(`/orders/${orderId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching order:', error);\n      throw error;\n    }\n  },\n  // Update order status\n  updateOrderStatus: async (orderId, status) => {\n    try {\n      const response = await orderApi.put(`/orders/${orderId}/status`, {\n        status\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error updating order status:', error);\n      throw error;\n    }\n  }\n};\nexport default {\n  productService,\n  userService,\n  orderService\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","PRODUCT_SERVICE_URL","REACT_APP_PRODUCT_SERVICE_URL","USER_SERVICE_URL","REACT_APP_USER_SERVICE_URL","ORDER_SERVICE_URL","REACT_APP_ORDER_SERVICE_URL","productApi","create","baseURL","timeout","headers","userApi","orderApi","addAuthInterceptor","apiInstance","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","productService","getAllProducts","response","get","data","console","getProductById","productId","searchProducts","query","encodeURIComponent","userService","register","userData","post","login","credentials","setItem","JSON","stringify","user","logout","removeItem","getCurrentUser","parse","getProfile","orderService","createOrder","orderData","getUserOrders","getOrderById","orderId","updateOrderStatus","status","put"],"sources":["C:/Users/Sartaj/Desktop/ObservaCart/observacart/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// API Base URLs - these should match your backend services\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\nconst PRODUCT_SERVICE_URL = process.env.REACT_APP_PRODUCT_SERVICE_URL || 'http://localhost:5001';\r\nconst USER_SERVICE_URL = process.env.REACT_APP_USER_SERVICE_URL || 'http://localhost:5002';\r\nconst ORDER_SERVICE_URL = process.env.REACT_APP_ORDER_SERVICE_URL || 'http://localhost:5003';\r\n\r\n// Create axios instances for each service\r\nconst productApi = axios.create({\r\n  baseURL: PRODUCT_SERVICE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nconst userApi = axios.create({\r\n  baseURL: USER_SERVICE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nconst orderApi = axios.create({\r\n  baseURL: ORDER_SERVICE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add request interceptors to include auth tokens\r\nconst addAuthInterceptor = (apiInstance) => {\r\n  apiInstance.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem('authToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n};\r\n\r\n// Add auth interceptors to all APIs\r\naddAuthInterceptor(userApi);\r\naddAuthInterceptor(orderApi);\r\n\r\n// Product Service API\r\nexport const productService = {\r\n  // Get all products\r\n  getAllProducts: async () => {\r\n    try {\r\n      const response = await productApi.get('/products');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get product by ID\r\n  getProductById: async (productId) => {\r\n    try {\r\n      const response = await productApi.get(`/products/${productId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching product:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Search products\r\n  searchProducts: async (query) => {\r\n    try {\r\n      const response = await productApi.get(`/products/search?q=${encodeURIComponent(query)}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error searching products:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// User Service API\r\nexport const userService = {\r\n  // Register new user\r\n  register: async (userData) => {\r\n    try {\r\n      const response = await userApi.post('/users/register', userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error registering user:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Login user\r\n  login: async (credentials) => {\r\n    try {\r\n      const response = await userApi.post('/users/login', credentials);\r\n      if (response.data.token) {\r\n        localStorage.setItem('authToken', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error logging in:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Logout user\r\n  logout: () => {\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('user');\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: () => {\r\n    const user = localStorage.getItem('user');\r\n    return user ? JSON.parse(user) : null;\r\n  },\r\n\r\n  // Get user profile\r\n  getProfile: async () => {\r\n    try {\r\n      const response = await userApi.get('/users/profile');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Order Service API\r\nexport const orderService = {\r\n  // Create new order\r\n  createOrder: async (orderData) => {\r\n    try {\r\n      const response = await orderApi.post('/orders', orderData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error creating order:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get user orders\r\n  getUserOrders: async () => {\r\n    try {\r\n      const response = await orderApi.get('/orders');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get order by ID\r\n  getOrderById: async (orderId) => {\r\n    try {\r\n      const response = await orderApi.get(`/orders/${orderId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching order:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update order status\r\n  updateOrderStatus: async (orderId, status) => {\r\n    try {\r\n      const response = await orderApi.put(`/orders/${orderId}/status`, { status });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error updating order status:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  productService,\r\n  userService,\r\n  orderService,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}